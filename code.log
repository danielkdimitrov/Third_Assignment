
  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   13.1   Copyright 1985-2013 StataCorp LP
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

3-user Stata network perpetual license:
       Serial number:  501306208483
         Licensed to:  Jakob Schwerter
                       

Notes:
      1.  (-set maxvar-) 5000 maximum variables
      2.  Stata running in batch mode

. do /Users/jakobschwerter/.ipython/stata/code.do 

. clear

. set more off

. set linesize 200

. log using "/Users/jakobschwerter/.ipython/stata/log_output.log", text replace
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/jakobschwerter/.ipython/stata/log_output.log
  log type:  text
 opened on:  13 Apr 2016, 13:50:12

. qui set seed 123

. qui drawnorm alpha_i, n(200)

. qui gen i = _n 

.     * included additional to generate an index for the individual level
. qui expand 5

. qui bys i: g t = _n 

.     * included additional to generate an index for the time level
. qui drawnorm nu_it e_it, n(1000)

. qui g x_it = nu_it + alpha_i

. qui g y_it = 3 + alpha_i + 2*x_it + e_it 

.     * DGP
. 
. qui xtset i t 

.     * give stata panel-information
. 
. qui gen dx_it = d.x_it 

.     * generates the first-difference for x prior to the regression command
. qui gen dy_it = d.y_it 

.     * generates the first-difference for y prior to the regression command
. 
. 
. qui eststo: reg y_it x_it, cluster(i) 

.     * OLS-regression (biased) (eststo saves the regression results)
. qui eststo: xtreg  y_it x_it, fe  

.     * FE-regression (OLS, but first the within-transformation is done)
. qui eststo: reg d.y_it d.x_it, 

.     * FD-regression
. qui eststo: xtreg d.y_it d.x_it,fe 

.     * Random-Trend 1 (mix)
. qui eststo: reg d2.y_it d2.x_it,  

.     * Random-Trend 2 (pure)  
. 
. esttab, long compress nogaps rename(D.x_it x_it D2.x_it x_it D.dx_it x_it) drop(_cons) ///
>         b(%7,3f) se(%6.4f) scalars("N N" "F F-Stat" "p p-value" "r2 r2") sfmt(%4,0f %5,0f %5,2f %6,2f %9,2f %9,2f) star(* 0.001) ///
>         label mtitles( "OLS" "FE" "FD" "FD-FE" "2-FD" "FD-FD" ) title("Without a random trend component") nolabel replace

Without a random trend component
-----------------------------------------------------------------------
                       (1)        (2)        (3)        (4)        (5) 
                       OLS         FE         FD      FD-FE       2-FD 
-----------------------------------------------------------------------
x_it                 2,500*     2,052*     2,002*     1,989*     1,995*
                  (0.0312)   (0.0338)   (0.0354)   (0.0412)   (0.0422) 
-----------------------------------------------------------------------
Observations          1000       1000        800        800        600 
F-Stat                6403       3675       3192       2331       2238 
p-value               0,00       0,00       0,00       0,00       0,00 
r2                    0,89       0,82       0,80       0,80       0,79 
-----------------------------------------------------------------------
Standard errors in parentheses
* p<0.001

.     * esttab produces the table
. log close
      name:  <unnamed>
       log:  /Users/jakobschwerter/.ipython/stata/log_output.log
  log type:  text
 closed on:  13 Apr 2016, 13:50:13
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

. save "/Users/jakobschwerter/.ipython/stata/data_output.dta", replace 
file /Users/jakobschwerter/.ipython/stata/data_output.dta saved

. 
. 
end of do-file
